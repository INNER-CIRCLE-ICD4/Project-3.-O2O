# λ°°μ°¨ μ‹κ°ν™” μ„λΉ„μ¤ (Dispatch Visualizer Service)

μ΄ μ„λΉ„μ¤λ” O2O λΌμ΄λ“ν—¬λ§ ν”λ«νΌμ λ°°μ°¨ κ³Όμ •μ„ μ‹λ®¬λ μ΄μ…ν•κ³  μ‹κ°μ μΌλ΅ ν™•μΈν•κΈ° μ„ν• λ„κµ¬μ…λ‹λ‹¤. λ“λΌμ΄λ²„μ μ„μΉ μ—…λ°μ΄νΈ, μΉκ°μ λ°°μ°¨ μ”μ²­, κ·Έλ¦¬κ³  λ§¤μΉ­ μ„λΉ„μ¤λ΅λ¶€ν„°μ μ‹¤μ‹κ°„ λ°°μ°¨ μ•λ¦Ό νλ¦„μ„ ν•λμ— λ³Ό μ μμµλ‹λ‹¤.

## π€ μ£Όμ” κΈ°λ¥

-   **λ“λΌμ΄λ²„ μ‹λ®¬λ μ΄μ…**: μ„μμ μ„μΉμ—μ„ κ°€μƒμ λ“λΌμ΄λ²„λ“¤μ„ μƒμ„±ν•κ³ , μ£ΌκΈ°μ μΌλ΅ μ„μΉλ¥Ό μ—…λ°μ΄νΈν•μ—¬ `location-service`λ΅ μ „μ†΅ν•©λ‹λ‹¤.
-   **μΉκ° λ°°μ°¨ μ”μ²­ μ‹λ®¬λ μ΄μ…**: κ°€μƒμ μΉκ°μ΄ λ°°μ°¨ μ”μ²­μ„ μƒμ„±ν•μ—¬ `matching-service`λ΅ μ „μ†΅ν•©λ‹λ‹¤.
-   **μ‹¤μ‹κ°„ μ•λ¦Ό μ‹κ°ν™”**: `matching-service`λ΅λ¶€ν„° μ¤λ” λ°°μ°¨ μ•λ¦Ό(λ“λΌμ΄λ²„ νΈμ¶, μλ½/κ±°μ  λ“±)μ„ μ‹¤μ‹κ°„μΌλ΅ μμ‹ ν•μ—¬ μ›Ή νμ΄μ§€μ— ν‘μ‹ν•©λ‹λ‹¤.

## π—οΈ μ•„ν‚¤ν…μ² μ„¤λ…

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Frontend (React) β”‚β”€β”€β”€β”€β–¶β”‚ Dispatch Visualizer β”‚β”€β”€β”€β”€β–¶β”‚  Location Service β”‚
β”‚ (Browser WebSocket)β”‚     β”‚   (Backend)       β”‚     β”‚   (WebSocket)     β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
          β–²                               β”‚
          β”‚                               β”‚
          β”‚                               β–Ό
          β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β–¶β”‚  Matching Service β”‚
            (WebSocket for Notifications)  β”‚   (REST API & WebSocket)  β”‚
                                           β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

-   **Frontend (React)**: μ‚¬μ©μ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•λ©°, λ°±μ—”λ“ API νΈμ¶ λ° `matching-service`λ΅λ¶€ν„°μ WebSocket μ•λ¦Όμ„ μμ‹ ν•©λ‹λ‹¤.
-   **Dispatch Visualizer Backend (Spring Boot)**: μ‹λ®¬λ μ΄μ… λ΅μ§μ„ κ΄€λ¦¬ν•κ³ , `location-service`μ™€ `matching-service`μ— λ€ν• ν΄λΌμ΄μ–ΈνΈ μ—­ν• μ„ μν–‰ν•©λ‹λ‹¤. λν•, `matching-service`λ΅λ¶€ν„° λ°›μ€ μ•λ¦Όμ„ ν”„λ΅ νΈμ—”λ“λ΅ μ¤‘κ³„ν•©λ‹λ‹¤.
-   **Location Service**: μ‹λ®¬λ μ΄μ…λ λ“λΌμ΄λ²„μ μ„μΉ μ •λ³΄λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.
-   **Matching Service**: λ°°μ°¨ μ”μ²­μ„ μ²λ¦¬ν•κ³ , λ“λΌμ΄λ²„ νΈμ¶ λ° λ§¤μΉ­ κ²°κ³Όλ¥Ό μ‹¤μ‹κ°„μΌλ΅ μ•λ¦½λ‹λ‹¤.

## π› οΈ μ‚¬μ© λ°©λ²•

### 1. μ„λΉ„μ¤ μ‹¤ν–‰ μ¤€λΉ„

μ΄ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ `location-service`μ™€ `matching-service`κ°€ λ¨Όμ € μ‹¤ν–‰ μ¤‘μ΄μ–΄μ•Ό ν•©λ‹λ‹¤. κ° μ„λΉ„μ¤μ `README.md`λ¥Ό μ°Έμ΅°ν•μ—¬ μ‹¤ν–‰ν•΄μ£Όμ„Έμ”.

### 2. `dispatch-visualizer-service` μ‹¤ν–‰

#### 2.1. λ°±μ—”λ“ μ‹¤ν–‰

```bash
# dispatch-visualizer-service λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd services/dispatch-visualizer-service

# Gradle λΉλ“
./gradlew build

# μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰
./gradlew bootRun
```

#### 2.2. ν”„λ΅ νΈμ—”λ“ μ‹¤ν–‰

```bash
# dispatch-visualizer-service/frontend λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd services/dispatch-visualizer-service/frontend

# μμ΅΄μ„± μ„¤μΉ (μµμ΄ 1ν)
npm install

# κ°λ° μ„λ²„ μ‹¤ν–‰
npm start
```

ν”„λ΅ νΈμ—”λ“ κ°λ° μ„λ²„λ” μΌλ°μ μΌλ΅ `http://localhost:3000`μ—μ„ μ‹¤ν–‰λ©λ‹λ‹¤.

### 3. μ‹λ®¬λ μ΄μ… μ‹μ‘

μ›Ή νμ΄μ§€(`http://localhost:3000`)μ— μ ‘μ†ν•λ©΄ λ‹¤μκ³Ό κ°™μ€ μ»¨νΈλ΅¤μ„ λ³Ό μ μμµλ‹λ‹¤.

-   **λ“λΌμ΄λ²„ μ‹λ®¬λ μ΄μ… μ‹μ‘**: `Number of Drivers` μ…λ ¥ ν•„λ“μ— μ‹λ®¬λ μ΄μ…ν•  λ“λΌμ΄λ²„ μλ¥Ό μ…λ ¥ν•κ³  `Start Driver Simulation` λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤. κ°€μƒμ λ“λΌμ΄λ²„λ“¤μ΄ μƒμ„±λμ–΄ `location-service`λ΅ μ„μΉ μ •λ³΄λ¥Ό μ „μ†΅ν•κΈ° μ‹μ‘ν•©λ‹λ‹¤.
-   **λ°°μ°¨ μ”μ²­**: `Request Ride` λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤. κ°€μƒμ μΉκ°μ΄ λ°°μ°¨ μ”μ²­μ„ μƒμ„±ν•μ—¬ `matching-service`λ΅ μ „μ†΅ν•©λ‹λ‹¤.

### 4. μ‹¤μ‹κ°„ μ•λ¦Ό ν™•μΈ

μ›Ή νμ΄μ§€ ν•λ‹¨μ `Notifications` μ„Ήμ…μ—μ„ `matching-service`λ΅λ¶€ν„° μ¤λ” μ‹¤μ‹κ°„ λ°°μ°¨ μ•λ¦Όλ“¤μ„ ν™•μΈν•  μ μμµλ‹λ‹¤. λ“λΌμ΄λ²„ νΈμ¶, μλ½, κ±°μ  λ“±μ λ©”μ‹μ§€κ°€ μμ°¨μ μΌλ΅ ν‘μ‹λμ–΄ λ°°μ°¨ μ•κ³ λ¦¬μ¦μ λ™μ‘μ„ κ°„μ ‘μ μΌλ΅ μ‹κ°ν™”ν•©λ‹λ‹¤.

## β™οΈ ν™κ²½ λ³€μ μ„¤μ •

`src/main/resources/application.yml` νμΌμ„ ν†µν•΄ λ‹¤μ ν™κ²½ λ³€μλ¥Ό μ„¤μ •ν•  μ μμµλ‹λ‹¤.

-   `location.service.ws.url`: `location-service`μ WebSocket μ—”λ“ν¬μΈνΈ URL (μ: `ws://localhost:8083/ws/locations`)
-   `matching.service.api.url`: `matching-service`μ REST API κΈ°λ³Έ URL (μ: `http://localhost:8082`)

## π’΅ ν–¥ν›„ κ°μ„  λ°©ν–¥

-   **μ§€λ„ μ‹κ°ν™”**: λ“λΌμ΄λ²„μ™€ μΉκ°μ μ„μΉ, λ°°μ°¨ μ”μ²­ λ° λ§¤μΉ­ κ²°κ³Όλ¥Ό μ§€λ„ μ„μ— μ§μ ‘ ν‘μ‹ν•μ—¬ λ”μ± μ§κ΄€μ μΈ μ‹κ°ν™”λ¥Ό μ κ³µν•©λ‹λ‹¤.
-   **μ‹λ®¬λ μ΄μ… μƒμ„Έ μ μ–΄**: λ“λΌμ΄λ²„μ μ΄λ™ κ²½λ΅, μ†λ„, μΉκ°μ ν”½μ—…/λ“λ΅­μ¤ν”„ μ„μΉ λ“±μ„ λ” μ„Έλ°€ν•κ² μ μ–΄ν•  μ μλ” κΈ°λ¥μ„ μ¶”κ°€ν•©λ‹λ‹¤.
-   **λ§¤μΉ­ κ³Όμ • μƒμ„Έ ν‘μ‹**: λ§¤μΉ­ μ•κ³ λ¦¬μ¦μ΄ λ“λΌμ΄λ²„λ¥Ό μ„ νƒν•κ³  νΈμ¶μ„ λ³΄λ‚΄λ” κ³Όμ •μ„ λ‹¨κ³„λ³„λ΅ μ‹κ°ν™”ν•©λ‹λ‹¤.
